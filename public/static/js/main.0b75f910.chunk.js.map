{"version":3,"sources":["images/header_logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/AddNewCardPopup.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/ImagePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","aria-label","onClick","onDeleteClick","card","onCardClick","title","onLickeClick","length","Main","avatar","handleEditAvatarBtn","name","handleEditProfileBtn","about","handleAddCardBtn","cards","map","id","handleCardClick","handleCardDelete","handleCardLike","Footer","PopupWithForm","isOpen","onClose","action","onSubmit","noValidate","children","submitButtonClassName","submitButton","AddPlacePopup","useState","cardTitle","setCardTitle","cardLink","setCardLink","evt","preventDefault","handleAddNewCard","link","placeholder","minLength","maxLength","value","onChange","target","required","EditAvatarPopup","avatarRefs","useRef","onUpdateAvatar","current","ref","EditProfilePopup","setName","setAbout","useEffect","onProfileUpdate","ImagePopup","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","statusText","fetch","then","_checkResult","all","getUserInfo","getInitialCards","method","body","JSON","stringify","cardId","authorization","App","setCurrentUser","isAddNewCard","setAddNewCardPopup","isEditAvatar","setEditAvatarPopup","isEditProfile","setEditProfilePopup","isDeleteCard","setDeleteCardPopup","isImageExpand","setImageExpand","selectedCard","setSelectedCard","setCards","removeCardLike","addCardLike","newCard","newCards","c","transformCard","catch","err","console","log","handlePopupClose","currentTarget","removeCard","cardsCopy","filter","item","cardItem","initialCards","Provider","setUserAvatar","setUserInfos","user","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wMAAe,MAA0B,wCCW1BA,MARf,WACE,OACE,wBAAQC,UAAU,SAAlB,SACE,qBAAKC,IAAKC,EAAYC,IAAI,cAAcH,UAAU,YCJ3CI,EAAqBC,IAAMC,gBCyCzBC,MAvCf,SAAcC,GAEZ,IAAMC,EAAcJ,IAAMK,WAAWN,GAE/BO,EAAQH,EAAMI,MAAMC,MAAQJ,EAAYI,IAExCC,EAAyB,0BAAuBH,EAAQ,uBAAyB,0BAEjFI,EAAUP,EAAMQ,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEL,MAAQJ,EAAYI,OAExDM,EAAuB,wBAAqBJ,EAAU,uBAAyB,iBAcrF,OACE,qBAAIf,UAAU,gBAAd,UACE,wBAAQoB,KAAK,SAASC,aAAW,cAAcrB,UAAWc,EAA2BQ,QANzF,WACEd,EAAMe,cAAcf,EAAMgB,SAMxB,qBAAKxB,UAAU,iBAAiBC,IAAKO,EAAMP,IAAKE,IAAKK,EAAML,IAAKmB,QAfpE,WACEd,EAAMiB,YAAYjB,EAAMgB,SAetB,sBAAKxB,UAAU,mBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BQ,EAAMkB,QACrC,sBAAK1B,UAAU,iBAAf,UACE,wBAAQoB,KAAK,SAASC,aAAW,YAAYrB,UAAWmB,EAAyBG,QAfzF,WACEd,EAAMmB,aAAanB,EAAMgB,SAenB,mBAAGxB,UAAU,sBAAb,SAAoCQ,EAAMQ,MAAMY,mBCiB3CC,MAhDf,SAAcrB,GACZ,IAAMC,EAAcJ,IAAMK,WAAWN,GAGrC,OACE,mCACA,uBAAMJ,UAAU,UAAhB,UACE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,kBAAf,UACE,qBAAKC,IAAKQ,EAAYqB,OAAQ3B,IAAI,cAAcH,UAAU,mBAC1D,wBAAQoB,KAAK,SAASC,aAAW,cAAcrB,UAAU,sBAAsBsB,QAASd,EAAMuB,yBAEhG,sBAAK/B,UAAU,gBAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BS,EAAYuB,OAC3C,wBAAQZ,KAAK,SAASC,aAAW,eAAerB,UAAU,gBAAgBsB,QAASd,EAAMyB,0BAE3F,mBAAGjC,UAAU,uBAAb,SAAqCS,EAAYyB,WAEnD,wBAAQb,aAAW,kBAAkBrB,UAAU,aAAasB,QAASd,EAAM2B,sBAG7E,yBAASnC,UAAU,WAAnB,SACE,oBAAIA,UAAU,iBAAd,SAEIQ,EAAM4B,MAAMC,KAAI,SAACb,EAAMc,GAAP,OACd,cAAC,EAAD,CAEEd,KAAMA,EACNrB,IAAKqB,EAAKrB,IACVF,IAAKuB,EAAKvB,IACVyB,MAAOF,EAAKE,MACZV,MAAOQ,EAAKR,MACZJ,MAAOY,EAAKZ,MACZa,YAAa,kBAAMjB,EAAM+B,gBAAgBf,IACzCD,cAAe,SAACC,GAAD,OAAUhB,EAAMgC,iBAAiBhB,IAChDG,aAAc,SAACH,GAAD,OAAUhB,EAAMiC,eAAejB,KATxCc,gBCtBNI,MARf,WACE,OACE,wBAAQ1C,UAAU,SAAlB,SACE,mBAAGA,UAAU,eAAb,0CCmBS2C,MAtBf,SAAuBnC,GACrB,OACE,qBAAKR,UAAS,2BAAsBQ,EAAMwB,KAA5B,YAAoCxB,EAAMoC,OAAS,aAAe,IAAMtB,QAASd,EAAMqC,QAArG,SACE,uBACEC,OAAO,IACPR,GAAI9B,EAAMwB,KACVA,KAAMxB,EAAMwB,KACZe,SAAUvC,EAAMuC,SAChB/C,UAAS,gCAA2BQ,EAAMwB,MAC1CgB,YAAU,EANZ,UAQE,oBAAIhD,UAAU,cAAd,SAA6BQ,EAAMkB,QACnC,0BAAU1B,UAAU,cAApB,SACGQ,EAAMyC,WAET,wBAAQ7B,KAAK,SAASC,aAAW,mBAAmBrB,UAAWQ,EAAM0C,sBAArE,SAA6F1C,EAAM2C,eACnG,wBAAQ/B,KAAK,SAASC,aAAW,oBAAoBrB,UAAU,kCAAkCsB,QAASd,EAAMqC,gBC6BzGO,MAzCf,SAAuB5C,GAAQ,IAAD,EACMH,IAAMgD,SAAS,IADrB,mBACrBC,EADqB,KACVC,EADU,OAEIlD,IAAMgD,SAAS,IAFnB,mBAErBG,EAFqB,KAEXC,EAFW,KAuB5B,OACE,eAAC,EAAD,CACEzB,KAAK,WACLN,MAAM,YACNyB,aAAa,OACbD,sBAAsB,eACtBN,OAAQpC,EAAMoC,OACdC,QAASrC,EAAMqC,QACfE,SAlBJ,SAAsBW,GACpBA,EAAIC,iBAGJnD,EAAMoD,iBAAiB,CACrB5B,KAAMsB,EACNO,KAAML,KAKR,UASE,uBAAOlB,GAAG,aAAalB,KAAK,OAAOY,KAAK,OAAOhC,UAAU,0CAA0C8D,YAAY,QAAQC,UAAU,IAAIC,UAAU,KAAKC,MAAOX,EAAWY,SA5B1K,SAAyBR,GACvBH,EAAaG,EAAIS,OAAOF,QA2B2KG,UAAQ,IACzM,sBAAM9B,GAAG,mBAAmBtC,UAAU,kCACtC,uBAAOsC,GAAG,WAAWlB,KAAK,MAAMY,KAAK,OAAOhC,UAAU,wCAAwC8D,YAAY,aAAaG,MAAOT,EAAUU,SA1B5I,SAAwBR,GACtBD,EAAYC,EAAIS,OAAOF,QAyB6IG,UAAQ,IAC1K,sBAAM9B,GAAG,iBAAiBtC,UAAU,sCCT3BqE,MA5Bf,SAAyB7D,GACvB,IAAM8D,EAAajE,IAAMkE,SAWzB,OACE,eAAC,EAAD,CACEvC,KAAK,cACLN,MAAM,yBACNyB,aAAa,OACbD,sBAAsB,eACtBN,OAAQpC,EAAMoC,OACdC,QAASrC,EAAMqC,QACfE,SAhBJ,SAAsBW,GACpBA,EAAIC,iBAGJnD,EAAMgE,eAAeF,EAAWG,QAAQR,OACxCK,EAAWG,QAAQR,MAAO,IAI1B,UASE,uBAAOS,IAAKJ,EAAYhC,GAAG,aAAalB,KAAK,MAAMY,KAAK,OAAOhC,UAAU,0CAA0C8D,YAAY,cAAcM,UAAQ,IACrJ,sBAAM9B,GAAG,mBAAmBtC,UAAU,sCCwB7B2E,MA7Cf,SAA0BnE,GAAQ,IAAD,EACPH,IAAMgD,SAAS,IADR,mBACxBrB,EADwB,KAClB4C,EADkB,OAELvE,IAAMgD,SAAS,IAFV,mBAExBnB,EAFwB,KAEjB2C,EAFiB,KAGzBpE,EAAcJ,IAAMK,WAAWN,GAyBrC,OANAC,IAAMyE,WAAU,WACdF,EAAQnE,EAAYuB,MAAQ,IAC5B6C,EAASpE,EAAYyB,OAAS,MAC7B,CAACzB,IAIF,eAAC,EAAD,CACEuB,KAAK,eACLN,MAAM,eACNyB,aAAa,OACbD,sBAAsB,eACtBN,OAAQpC,EAAMoC,OACdC,QAASrC,EAAMqC,QACfE,SAtBJ,SAAsBW,GACpBA,EAAIC,iBAGJnD,EAAMuE,gBAAgB,CAAC/C,OAAME,WAW7B,UASE,uBAAOI,GAAG,eAAelB,KAAK,OAAOY,KAAK,OAAOhC,UAAU,oCAAoC8D,YAAY,OAAOC,UAAU,IAAIC,UAAU,KAAKC,MAAOjC,EAAMkC,SAhChK,SAA0BR,GACxBkB,EAAQlB,EAAIS,OAAOF,QA+BuKG,UAAQ,IAChM,sBAAM9B,GAAG,qBAAqBtC,UAAU,kCACxC,uBAAOsC,GAAG,sBAAsBlB,KAAK,OAAOY,KAAK,QAAQhC,UAAU,2CAA2C8D,YAAY,WAAWC,UAAU,IAAIC,UAAU,MAAMC,MAAO/B,EAAOgC,SA9BrL,SAA2BR,GACzBmB,EAASnB,EAAIS,OAAOF,QA6B4LG,UAAQ,IACtN,sBAAM9B,GAAG,4BAA4BtC,UAAU,sCChCtCgF,MAdf,SAAoBxD,GAClB,OACE,qBAAKxB,UAAS,iCAA4BwB,EAAKoB,OAAS,aAAe,IAAMtB,QAASE,EAAKqB,QAA3F,SACE,sBAAK7C,UAAU,iBAAf,UACE,wBAAQoB,KAAK,SAASC,aAAW,oBAAoBrB,UAAU,eAAesB,QAASE,EAAKqB,UAC5F,yBAAQ7C,UAAU,gBAAlB,UACE,qBAAMA,UAAU,eAAeC,IAAKuB,EAAKvB,IAAKE,IAAKqB,EAAKE,QACxD,4BAAY1B,UAAU,uBAAtB,SAA8CwB,EAAKE,iB,cCsH9CuD,EARH,I,WAtHV,cAAiC,IAApBC,EAAmB,EAAnBA,QAASC,EAAU,EAAVA,QAAU,oBAC9BC,KAAKC,SAAWH,EAChBE,KAAKE,SAAWH,E,yDAGLI,GACX,OAAQA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAO,SAAWJ,EAAIK,c,wCAO3C,IAAD,OAChB,OAAOC,MAAMT,KAAKC,SAAW,SAAU,CACrCF,QAASC,KAAKE,WAEfQ,MAAK,SAAAP,GAAG,OAAI,EAAKQ,aAAaR,Q,oCAOlB,IAAD,OACZ,OAAOM,MAAMT,KAAKC,SAAW,YAAa,CACxCF,QAASC,KAAKE,WAEfQ,MAAK,SAAAP,GAAG,OAAI,EAAKQ,aAAaR,Q,mCAQ/B,OAAOG,QAAQM,IAAI,CAACZ,KAAKa,cAAeb,KAAKc,sB,iCAOxB,IAAD,OAAblE,EAAa,EAAbA,KAAM6B,EAAO,EAAPA,KACb,OAAOgC,MAAMT,KAAKC,SAAW,SAAU,CACrCF,QAASC,KAAKE,SACda,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CACnBtE,OACA6B,WAGHiC,MAAK,SAAAP,GAAG,OAAI,EAAKQ,aAAaR,Q,iCAOtBgB,GAAS,IAAD,OACjB,OAAOV,MAAMT,KAAKC,SAAW,UAAYkB,EAAQ,CAC/CpB,QAASC,KAAKE,SACda,OAAQ,WAETL,MAAK,SAAAP,GAAG,OAAI,EAAKQ,aAAaR,Q,kCAKrBgB,GAAS,IAAD,OAClB,OAAOV,MAAMT,KAAKC,SAAW,gBAAkBkB,EAAQ,CACrDpB,QAASC,KAAKE,SACda,OAAQ,QAETL,MAAK,SAAAP,GAAG,OAAG,EAAKQ,aAAaR,Q,qCAIjBgB,GAAS,IAAD,OACrB,OAAOV,MAAMT,KAAKC,SAAW,gBAAkBkB,EAAQ,CACrDpB,QAASC,KAAKE,SACda,OAAQ,WAETL,MAAK,SAAAP,GAAG,OAAI,EAAKQ,aAAaR,Q,uCAOR,IAAD,OAATzD,EAAS,EAATA,OACb,OAAO+D,MAAMT,KAAKC,SAAW,mBAAoB,CAC/CF,QAASC,KAAKE,SACda,OAAQ,QACRC,KAAMC,KAAKC,UAAU,CACnBxE,aAGHgE,MAAK,SAAAP,GAAG,OAAI,EAAKQ,aAAaR,Q,sCAOJ,IAAD,OAAdvD,EAAc,EAAdA,KAAME,EAAQ,EAARA,MAClB,OAAO2D,MAAMT,KAAKC,SAAW,YAAa,CACxCF,QAASC,KAAKE,SACda,OAAQ,QACRC,KAAMC,KAAKC,UAAU,CACnBtE,OACAE,YAGH4D,MAAK,SAAAP,GAAG,OAAI,EAAKQ,aAAaR,U,KAIvB,CAAQ,CAClBL,QAAS,6CACTC,QAAS,CACPqB,cAAe,uCACf,eAAgB,sBC+CLC,MA9Jf,WAAe,MAEyBpG,IAAMgD,SAAS,IAFxC,mBAEN5C,EAFM,KAEOiG,EAFP,OAI8BrG,IAAMgD,UAAS,GAJ7C,mBAINsD,EAJM,KAIQC,EAJR,OAK8BvG,IAAMgD,UAAS,GAL7C,mBAKNwD,EALM,KAKQC,EALR,OAMgCzG,IAAMgD,UAAS,GAN/C,mBAMN0D,EANM,KAMSC,EANT,OAO8B3G,IAAMgD,UAAS,GAP7C,mBAON4D,EAPM,KAOQC,EAPR,OAQ2B7G,IAAMgD,UAAS,GAR1C,mBAQN8D,EARM,KAQSC,EART,OAS2B/G,IAAMgD,SAAS,CAACrB,KAAM,WAAY6B,KAAM,qDATnE,mBASNwD,EATM,KASQC,EATR,OAUajH,IAAMgD,SAAS,IAV5B,mBAUNjB,EAVM,KAUCmF,EAVD,KA0Bb,SAAShF,EAAgBf,GACvB8F,EAAgB9F,GAChB4F,GAAe,GAEjB,SAAS3E,EAAejB,IAENA,EAAKR,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEL,MAAQJ,EAAYI,OACvCoE,EAAIuC,eAAehG,EAAKc,IAAM2C,EAAIwC,YAAYjG,EAAKc,KAErEwD,MAAK,SAAC4B,GAER,IAAMC,EAAWvF,EAAMC,KAAI,SAACuF,GAAD,OAAOA,EAAEtF,KAAOd,EAAKc,GAAKuF,EAAcH,GAAWE,KAE9EL,EAASI,MACRG,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAe9B,SAASG,EAAiBxE,GACrBA,EAAIS,SAAWT,EAAIyE,gBAbtBrB,GAAmB,GACnBE,GAAoB,GACpBJ,GAAmB,GACnBM,GAAmB,GACnBE,GAAe,IAajB,SAAS5E,EAAiBhB,GACxByD,EAAImD,WAAW5G,EAAKc,IACjBwD,MAAK,WACJ,IAAMuC,EAAYjG,EAAMkG,QAAO,SAACC,GAAD,OAAUA,EAAKjG,KAAOd,EAAKc,MAC1DiF,EAASc,MAEVP,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAiB9B,SAASF,EAAcW,GACrB,MAAO,CACLrI,IAAKqI,EAASxG,KACdN,MAAO8G,EAASxG,KAChB/B,IAAKuI,EAAS3E,KACdvB,GAAIkG,EAAS3H,IACbD,MAAO4H,EAAS5H,MAChBI,MAAOwH,EAASxH,OA4BpB,OAjBAX,IAAMyE,WAAU,WACdG,EAAIgB,cACDH,MAAK,SAACP,GACLmB,EAAenB,MAEhBuC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAE5B9C,EAAIiB,kBACHJ,MAAK,SAAC2C,GACLlB,EACEkB,EAAapG,IAAIwF,OAGpBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QACzB,IAID,eAAC3H,EAAmBsI,SAApB,CAA6BzE,MAAOxD,EAApC,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CAEE2B,MAAOA,EAEPL,oBA/GN,WACE+E,GAAmB,IA+Gf7E,qBA7GN,WACE+E,GAAoB,IA6GhB7E,iBA3GN,WACEyE,GAAmB,IA4GfnE,eAAgB,SAACjB,GAAD,OAAUiB,EAAejB,IACzCgB,iBAAkB,SAAChB,GAAD,OAAUgB,EAAiBhB,IAE7Ce,gBAAiB,SAACf,GAAD,OAAUe,EAAgBf,IAC3CC,YAAa,SAACD,GAAD,OAAUe,EAAgBf,IACvCD,cAAe,SAACC,GAAD,OAAUgB,EAAiBhB,IAC1CG,aAAc,SAACH,GAAD,OAAUiB,EAAejB,MAEzC,cAAC,EAAD,IAGA,cAAC,EAAD,CAAiBoB,OAAQiE,EAAchE,QAASqF,EAAkB1D,eAvEtE,SAA0B1C,GACxBmD,EAAI0D,cAAc,CAAC7G,WAChBgE,MAAK,SAACP,GAAUmB,EAAenB,MAC/BO,MAAK,kBAAOgB,GAAmB,MAC/BgB,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,SAsE1B,cAAC,EAAD,CAAkBnF,OAAQmE,EAAelE,QAASqF,EAAkBnD,gBAnExE,YAA2C,IAAf/C,EAAc,EAAdA,KAAME,EAAQ,EAARA,MAChC+C,EAAI2D,aAAa,CAAC5G,OAAME,UACrB4D,MAAK,SAAC+C,GAAWnC,EAAemC,MAChC/C,MAAK,kBAAOkB,GAAoB,MAChCc,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,SAkE1B,cAAC,EAAD,CAAenF,OAAQ+D,EAAc9D,QAASqF,EAAkBtE,iBApDpE,YAAyC,IAAd5B,EAAa,EAAbA,KAAM6B,EAAO,EAAPA,KAC/BoB,EAAI6D,QAAQ,CAAC9G,OAAM6B,SAChBiC,MAAK,SAAC4B,GAAD,OAAaH,EAAS,CAACM,EAAcH,IAAhB,mBAA6BtF,QACvD0D,MAAK,kBAAMc,GAAmB,MAC9BkB,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,SAmD1B,cAAC,EAAD,CAAe/F,KAAK,SAASN,MAAM,gBAAgByB,aAAa,MAAMP,OAAQqE,EAAcpE,QAASqF,EAAkBnF,SAAUP,IAGjI,cAAC,EAAD,CAAYvC,IAAKoH,EAAapH,IAAKyB,MAAO2F,EAAa3F,MAAOkB,OAAQuE,EAAetE,QAASqF,QCxJrFa,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBnD,MAAK,YAAkD,IAA/CoD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,MCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.0b75f910.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header_logo.4e8e0a1d.svg\";","import React from 'react';\nimport headerLogo from '../images/header_logo.svg';\n\nfunction Header() {\n  return(\n    <header className=\"header\">\n      <img src={headerLogo} alt=\"header-logo\" className=\"logo\" />\n    </header>\n  )\n}\n\nexport default Header;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction Card(props) {\n  // current user context\n  const currentUser = React.useContext(CurrentUserContext);\n  // Checking if current user is the owner of the current card\n  const isOwn = props.owner._id === currentUser._id;\n  //variable for delete button class name\n  const cardDeleteButtonClassName = (`element__delete ${isOwn ? 'element__delete_show' : 'element__delete_hidden'}`);\n  // Check if the card was liked by the current user\n  const isLiked = props.likes.some((i) => i._id === currentUser._id);\n  // Create a variable which you then set in `className` for the like button\n  const cardLikeButtonClassName = (`element__like ${isLiked ? 'element__like_active' : 'element__like'}`);\n\n  function handleClick() {\n    props.onCardClick(props.card)\n  }\n\n  function handleLike() {\n    props.onLickeClick(props.card)\n  }\n\n  function handleDelete() {\n    props.onDeleteClick(props.card)\n  }\n\n  return (\n    <li className=\"element__item\">\n      <button type=\"button\" aria-label=\"delete-card\" className={cardDeleteButtonClassName} onClick={handleDelete}></button>\n      <img className=\"element__photo\" src={props.src} alt={props.alt} onClick={handleClick} />\n      <div className=\"element__details\">\n        <h2 className=\"element__name\">{props.title}</h2>\n        <div className=\"element__likes\">\n          <button type=\"button\" aria-label=\"like-card\" className={cardLikeButtonClassName} onClick={handleLike}></button>\n          <p className=\"element__like_count\">{props.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n\n  return(\n    <>\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar\">\n          <img src={currentUser.avatar} alt=\"profile-pic\" className=\"profile__photo\" />\n          <button type=\"button\" aria-label=\"edit-avatar\" className=\"profile__photo_edit\" onClick={props.handleEditAvatarBtn}></button>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__title\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button type=\"button\" aria-label=\"edit-profile\" className=\"profile__edit\" onClick={props.handleEditProfileBtn}></button>\n          </div>\n          <p className=\"profile__description\">{currentUser.about}</p>\n        </div>\n        <button aria-label=\"add-card-button\" className=\"add-button\" onClick={props.handleAddCardBtn}></button>\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n          {\n            props.cards.map((card, id) =>\n              <Card\n                key={id}\n                card={card}\n                alt={card.alt}\n                src={card.src}\n                title={card.title}\n                likes={card.likes}\n                owner={card.owner}\n                onCardClick={() => props.handleCardClick(card)}\n                onDeleteClick={(card) => props.handleCardDelete(card)}\n                onLickeClick={(card) => props.handleCardLike(card)}\n              />\n            )\n          }\n        </ul>\n      </section>\n    </main>\n    </>\n  )\n}\n\n\nexport default Main;\n\n","import React from 'react';\n\nfunction Footer() {\n  return(\n    <footer className=\"footer\">\n      <p className=\"footer__item\">© 2020 Around The U.S.</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={`popup popup_type_${props.name} ${props.isOpen ? \"popup_open\" : \"\"}`} onClick={props.onClose}>\n      <form\n        action=\"#\"\n        id={props.name}\n        name={props.name}\n        onSubmit={props.onSubmit}\n        className={`form popup__form form_${props.name}`}\n        noValidate\n      >\n        <h2 className=\"form__title\">{props.title}</h2>\n        <fieldset className=\"form__field\">\n          {props.children}\n        </fieldset>\n        <button type=\"submit\" aria-label=\"save-edit-avatar\" className={props.submitButtonClassName}>{props.submitButton}</button>\n        <button type=\"button\" aria-label=\"close-edit-avatar\" className=\"popup__close form__close-button\" onClick={props.onClose}></button>\n      </form>\n    </div>\n  )\n}\n\nexport default PopupWithForm;\n\n","import React from 'react';\n// import { defaultSettings } from \"../utils/constants\";\n// import FormValidator from \"./FormValidator\";\nimport PopupWithForm from './PopupWithForm';\n\n\nfunction AddPlacePopup(props) {\n  const [cardTitle, setCardTitle] = React.useState(\"\");\n  const [cardLink, setCardLink] = React.useState(\"\");\n  // const addCardValidator = new FormValidator(defaultSettings, '.form_add-card');\n\n  function handleCardTitle(evt) {\n    setCardTitle(evt.target.value);\n  }\n\n  function handleCardLink(evt) {\n    setCardLink(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    //validate add new card\n    // addCardValidator.enableValidation();\n    props.handleAddNewCard({\n      name: cardTitle,\n      link: cardLink\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"add-card\"\n      title=\"New Place\"\n      submitButton=\"Save\"\n      submitButtonClassName=\"form__submit\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input id=\"card-title\" type=\"text\" name=\"name\" className=\"form__input form__input_type_card-title\" placeholder=\"Title\" minLength=\"2\" maxLength=\"30\" value={cardTitle} onChange={handleCardTitle} required />\n      <span id=\"card-title-error\" className=\"form__field form__field_error\"></span>\n      <input id=\"card-url\" type=\"url\" name=\"link\" className=\"form__input form__input_type_card-url\" placeholder=\"Image link\" value={cardLink} onChange={handleCardLink} required />\n      <span id=\"card-url-error\" className=\"form__field form__field_error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\n// import FormValidator from \"./FormValidator\";\nimport PopupWithForm from './PopupWithForm';\n// import { defaultSettings } from \"../utils/constants\";\n\nfunction EditAvatarPopup(props) {\n  const avatarRefs = React.useRef();\n  // const editAvatarValidator = new FormValidator(defaultSettings, '.form_edit-avatar');\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    //validate edit avatar\n    // editAvatarValidator.enableValidation();\n    props.onUpdateAvatar(avatarRefs.current.value);\n    avatarRefs.current.value ='';\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit-avatar\"\n      title=\"Change Profile Picture\"\n      submitButton=\"Save\"\n      submitButtonClassName=\"form__submit\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input ref={avatarRefs} id=\"avatar-url\" type=\"url\" name=\"link\" className=\"form__input form__input_type_avatar-url\" placeholder=\"Avatar link\" required />\n      <span id=\"avatar-url-error\" className=\"form__field form__field_error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\n// import FormValidator from \"./FormValidator\";\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n// import { defaultSettings } from \"../utils/constants\";\n\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = React.useState(\"\");\n  const [about, setAbout] = React.useState(\"\");\n  const currentUser = React.useContext(CurrentUserContext);\n  // const editFormValidator = new FormValidator(defaultSettings, '.form_edit-profile');\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleAboutChange(evt) {\n    setAbout(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    //validate edit profile\n    // editFormValidator.enableValidation();\n    props.onProfileUpdate({name, about});\n  }\n\n  // copy user data into popup form on open\n  React.useEffect(() => {\n    setName(currentUser.name || '');\n    setAbout(currentUser.about || '');\n  }, [currentUser]);\n\n\n  return (\n    <PopupWithForm\n      name=\"edit-profile\"\n      title=\"Edit Profile\"\n      submitButton=\"Save\"\n      submitButtonClassName=\"form__submit\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input id=\"profile-name\" type=\"text\" name=\"name\" className=\"form__input form__input_type_name\" placeholder=\"Name\" minLength=\"2\" maxLength=\"30\" value={name} onChange={handleNameChange} required />\n      <span id=\"profile-name-error\" className=\"form__field form__field_error\"></span>\n      <input id=\"profile-description\" type=\"text\" name=\"about\" className=\"form__input form__input_type_description\" placeholder=\"About Me\" minLength=\"2\" maxLength=\"200\" value={about} onChange={handleAboutChange} required />\n      <span id=\"profile-description-error\" className=\"form__field form__field_error\"></span>\n    </PopupWithForm>\n  )\n}\nexport default EditProfilePopup;\n\n","import React from 'react';\n\nfunction ImagePopup(card) {\n  return (\n    <div className={`popup popup_type_image ${card.isOpen ? \"popup_open\" : \"\"}`} onClick={card.onClose}>\n      <div className=\"popup__content\">\n        <button type=\"button\" aria-label=\"close-expand-card\" className=\"popup__close\" onClick={card.onClose}></button>\n        <figure className=\"popup__figure\">\n          <img  className=\"popup__image\" src={card.src} alt={card.title} />\n          <figcaption className=\"popup__image-caption\">{card.title}</figcaption>\n        </figure>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;\n","class Api {\n  constructor({baseUrl, headers}) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkResult(res) {\n    return (res.ok ? res.json() : Promise.reject('Error!' + res.statusText));\n  }\n\n  /**\n   * Loading Cards from the Server\n   * GET https://around.nomoreparties.co/v1/groupId/cards\n   */\n  getInitialCards() {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers\n    })\n    .then(res => this._checkResult(res))\n  }\n\n   /**\n   * Loading User Information from the Server\n   * GET https://around.nomoreparties.co/v1/groupId/users/me\n   */\n  getUserInfo() {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: this._headers\n    })\n    .then(res => this._checkResult(res))\n  }\n\n\n  /**\n   * Get all cards and user infos and only then render them\n   */\n  getAppInfo() {\n    return Promise.all([this.getUserInfo(), this.getInitialCards()]);\n  }\n\n  /**\n   * Adding a New Card\n   * POST https://around.nomoreparties.co/v1/groupId/cards\n   */\n  addCard({name, link}) {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers,\n      method: \"POST\",\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n    .then(res => this._checkResult(res))\n  }\n\n   /**\n    * Deleting a Card\n    * DELETE https://around.nomoreparties.co/v1/groupId/cards/cardId\n    */\n  removeCard(cardId) {\n    return fetch(this._baseUrl + '/cards/' + cardId, {\n      headers: this._headers,\n      method: \"DELETE\"\n    })\n    .then(res => this._checkResult(res))\n  }\n\n  //Adding and Removing Likes\n  /** PUT https://around.nomoreparties.co/v1/groupId/cards/likes/cardId */\n  addCardLike(cardId) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      headers: this._headers,\n      method: \"PUT\"\n    })\n    .then(res =>this._checkResult(res))\n  }\n\n  /** DELETE https://around.nomoreparties.co/v1/groupId/cards/likes/cardId */\n  removeCardLike(cardId) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      headers: this._headers,\n      method: \"DELETE\"\n    })\n    .then(res => this._checkResult(res))\n  }\n\n   /**\n    * Updating Profile Picture\n    * PATCH https://around.nomoreparties.co/v1/groupId/users/me/avatar\n    */\n  setUserAvatar({avatar}) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        avatar\n      })\n    })\n    .then(res => this._checkResult(res))\n  }\n\n  /**\n   * Editing the Profile\n   * PATCH https://around.nomoreparties.co/v1/groupId/users/me\n   */\n  setUserInfos({name, about}) {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n    .then(res => this._checkResult(res))\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-5\",\n  headers: {\n    authorization: \"a0a03679-4255-43a8-85cb-b4bca24b592e\",\n    \"Content-Type\": \"application/json\"\n  }\n});\n\nexport default api;\n","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport AddPlacePopup from './AddNewCardPopup';\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport ImagePopup from './ImagePopup';\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n  // current user context\n  const [currentUser, setCurrentUser] = React.useState({});\n  //popupus\n  const [isAddNewCard, setAddNewCardPopup] = React.useState(false);\n  const [isEditAvatar, setEditAvatarPopup] = React.useState(false);\n  const [isEditProfile, setEditProfilePopup] = React.useState(false);\n  const [isDeleteCard, setDeleteCardPopup] = React.useState(false);\n  const [isImageExpand, setImageExpand] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({name: \"Yosemite\", link: \"https://code.s3.yandex.net/web-code/yosemite.jpg\"});\n  const [cards, setCards] = React.useState([]);\n\n\n  //handle click on buttons\n  function handleEditAvatarBtn() {\n    setEditAvatarPopup(true);\n  }\n  function handleEditProfileBtn() {\n    setEditProfilePopup(true);\n  }\n  function handleAddCardBtn() {\n    setAddNewCardPopup(true);\n  }\n  // function handleDeleteBtn(card) { // not needed yet\n  //   setDeleteCardPopup(true);\n  // }\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setImageExpand(true);\n  }\n  function handleCardLike(card) {\n    // Check one more time if this card was already liked\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    const res = isLiked ? api.removeCardLike(card.id) : api.addCardLike(card.id);\n\n    res.then((newCard) => {\n      // Create a new array based on the existing one and putting a new card into it\n      const newCards = cards.map((c) => c.id === card.id ? transformCard(newCard) : c);\n      // Update the state\n      setCards(newCards);\n    }).catch(err => console.log(err));\n  }\n  function closeAllPopups() {\n    setEditAvatarPopup(false);\n    setEditProfilePopup(false);\n    setAddNewCardPopup(false);\n    setDeleteCardPopup(false);\n    setImageExpand(false);\n  }\n  // to be handled later\n  // function handleEscClose(evt) {\n  //   if(evt.key === 'Escape') {\n  //     closeAllPopups();\n  //   }\n  // }\n  function handlePopupClose(evt) {\n    if(evt.target !== evt.currentTarget) return;\n\n    closeAllPopups();\n  }\n  function handleCardDelete(card) {\n    api.removeCard(card.id)\n      .then(() => {\n        const cardsCopy = cards.filter((item) => item.id !== card.id);\n        setCards(cardsCopy);\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleEditAvatar(avatar) {\n    api.setUserAvatar({avatar})\n      .then((res) => { setCurrentUser(res) })\n      .then(() =>  setEditAvatarPopup(false))\n      .catch(err => console.log(err));\n  }\n\n  function handleEditProfile({name, about}) {\n    api.setUserInfos({name, about})\n      .then((user) => { setCurrentUser(user); })\n      .then(() =>  setEditProfilePopup(false))\n      .catch(err => console.log(err));\n  }\n\n  function transformCard(cardItem) {\n    return {\n      alt: cardItem.name,\n      title: cardItem.name,\n      src: cardItem.link,\n      id: cardItem._id,\n      owner: cardItem.owner,\n      likes: cardItem.likes\n    }\n  }\n\n  function handleAddNewCard({name, link}) {\n    api.addCard({name, link})\n      .then((newCard) => setCards([transformCard(newCard), ...cards]) )\n      .then(() => setAddNewCardPopup(false))\n      .catch(err => console.log(err));\n  }\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch(err => console.log(err));\n\n    api.getInitialCards()\n    .then((initialCards) => {\n      setCards(\n        initialCards.map(transformCard)\n      )\n    })\n    .catch(err => console.log(err));\n  }, [])\n\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header />\n      <Main\n        // send these state variables and their associated functions to main\n        cards={cards}\n        // popups button click\n        handleEditAvatarBtn={handleEditAvatarBtn}\n        handleEditProfileBtn={handleEditProfileBtn}\n        handleAddCardBtn={handleAddCardBtn}\n        // other buttons\n        handleCardLike={(card) => handleCardLike(card)}\n        handleCardDelete={(card) => handleCardDelete(card)}\n        // functionnalities\n        handleCardClick={(card) => handleCardClick(card)}\n        onCardClick={(card) => handleCardClick(card)}\n        onDeleteClick={(card) => handleCardDelete(card)}\n        onLickeClick={(card) => handleCardLike(card)}\n      />\n      <Footer />\n\n      {/* Edit avatar popup */}\n      <EditAvatarPopup isOpen={isEditAvatar} onClose={handlePopupClose} onUpdateAvatar={handleEditAvatar} />\n\n      {/* Edit Profile popup */}\n      <EditProfilePopup isOpen={isEditProfile} onClose={handlePopupClose} onProfileUpdate={handleEditProfile} />\n\n      {/* Add New Card Popup */}\n      <AddPlacePopup isOpen={isAddNewCard} onClose={handlePopupClose} handleAddNewCard={handleAddNewCard} />\n\n      {/* Delete card confirmation - not needed yet */}\n      <PopupWithForm name=\"delete\" title=\"Are You Sure?\" submitButton=\"Yes\" isOpen={isDeleteCard} onClose={handlePopupClose} onSubmit={handleCardDelete} />\n\n      {/* Expand card on full-screen */}\n      <ImagePopup src={selectedCard.src} title={selectedCard.title} isOpen={isImageExpand} onClose={handlePopupClose} />\n\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}